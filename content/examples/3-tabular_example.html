<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working with Tabular Data &mdash; MultiViz Analytics Engine Library  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Labeling of Measurements and Label Propagation" href="7-labeling.html" />
    <link rel="prev" title="Analysis Classes - Unified Interface to Analysis Results" href="5-analysis_classes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/VA_Symbol_DarkBlue.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1-brief_overview.html">Brief Overview - How to use the MVG library</a></li>
<li class="toctree-l1"><a class="reference internal" href="0-check_version.html">Check Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-sources_and_measurements.html">Sources and Measurements Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-analysis_visual.html">Analysis and Results Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-analysis_classes.html">Analysis Classes - Unified Interface to Analysis Results</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with Tabular Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Imports">Imports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="7-labeling.html">Labeling of Measurements and Label Propagation</a></li>
<li class="toctree-l1"><a class="reference internal" href="8-inference.html">Model Inference for New Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-error_handling.html">Error Handling Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/general.html">Using MVG features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/kpidemo.html">KPI Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/ModeId.html">Automatic Mode Identification (ModeID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/blacksheep.html">Population Based Anomaly Detection (BlackSheep)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/label_propagation.html">Label Propagation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/callback.html">Callback on Analysis Completion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/mvg.html">MutliViz Analytics Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities_reference/analysis_classes.html">MutliViz Analysis Classes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MultiViz Analytics Engine Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Working with Tabular Data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/content/examples/3-tabular_example.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Working-with-Tabular-Data">
<h1>Working with Tabular Data<a class="headerlink" href="#Working-with-Tabular-Data" title="Permalink to this heading"></a></h1>
<p>Although MVG has been designed with vibration waveform data in mind, it still works wonderfully well with non-vibration or KPI data. We refer to this as tabular timeseries data. Each measurement consists of one or more variables captured at the same time. This is different from the vibration waveform data, where each measurement is a short measurement sample from one vibration sensor.</p>
<p>In this example, we will show how to work with tabular sources and measurements, and how to create an analysis. If you have seen any of the previous examples, much of this one will be familiar to you.</p>
<section id="Imports">
<h2>Imports<a class="headerlink" href="#Imports" title="Permalink to this heading"></a></h2>
<p>Beyond importing <code class="docutils literal notranslate"><span class="pre">MVG</span></code> and the <code class="docutils literal notranslate"><span class="pre">ModeId</span></code> analysis class, we want to use <code class="docutils literal notranslate"><span class="pre">pandas</span></code> for loading and processing the data before the analysis.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">mvg</span> <span class="kn">import</span> <span class="n">MVG</span>
<span class="kn">from</span> <span class="nn">mvg.analysis_classes</span> <span class="kn">import</span> <span class="n">ModeId</span>
</pre></div>
</div>
</div>
<p>After importing we create the <code class="docutils literal notranslate"><span class="pre">MVG</span></code> session that let us communicate with the MVG server. For that we need an endpoint URL and a valid token. If you do not have a token, you can get one <a class="reference external" href="https://vikinganalytics.se/multiviz-vibration-api/">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each token is used for Authorization AND Authentication. Thus, each unique token represents a unique user, each user has it own, unique database on the VA-MVG’ service.</p>
</div>
<p><strong>You need to insert your token received from Viking Analytics here:</strong> Just replace <code class="docutils literal notranslate"><span class="pre">&quot;os.environ['TEST_TOKEN']&quot;</span></code> by your token as a string.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;http://api.beta.multiviz.com&quot;</span>
<span class="n">TOKEN</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;TEST_TOKEN&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span> <span class="o">=</span> <span class="n">MVG</span><span class="p">(</span><span class="n">ENDPOINT</span><span class="p">,</span> <span class="n">TOKEN</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We will use a dataset that is collected from a heat pump in the cellar of one of the employees at Viking Analytics. The data is available in <a class="reference external" href="https://github.com/vikinganalytics/tabular-example-data">this git repository</a>. We clone the repository to get access it. If you don’t have git you can download the data from the link.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/vikinganalytics/tabular-example-data.git
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Cloning into &#39;tabular-example-data&#39;...
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_path</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;tabular-example-data&quot;</span> <span class="o">/</span> <span class="s2">&quot;heatpump.csv&quot;</span>
<span class="n">data_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data_path</span><span class="p">)</span>
<span class="n">data_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>T_out</th>
      <th>T_down</th>
      <th>T_kitchen</th>
      <th>WATT</th>
      <th>T_up</th>
      <th>T_brine_in</th>
      <th>T_brine_out</th>
      <th>T_cellar</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-02-01T00:00:00Z</td>
      <td>1.976053</td>
      <td>38.367181</td>
      <td>20.512105</td>
      <td>2.780167</td>
      <td>40.028018</td>
      <td>3.690000</td>
      <td>2.068514</td>
      <td>10.965206</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018-02-01T01:40:00Z</td>
      <td>2.380000</td>
      <td>36.940000</td>
      <td>20.190000</td>
      <td>3.045333</td>
      <td>39.060000</td>
      <td>3.560000</td>
      <td>1.991486</td>
      <td>10.924431</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018-02-01T03:25:00Z</td>
      <td>2.211223</td>
      <td>37.715920</td>
      <td>20.190000</td>
      <td>3.060000</td>
      <td>39.840240</td>
      <td>3.598392</td>
      <td>1.961608</td>
      <td>10.982982</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018-02-01T05:10:00Z</td>
      <td>1.964956</td>
      <td>37.940000</td>
      <td>20.250000</td>
      <td>3.151579</td>
      <td>40.023789</td>
      <td>3.611330</td>
      <td>2.068670</td>
      <td>10.888049</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018-02-01T06:55:00Z</td>
      <td>0.349134</td>
      <td>37.551293</td>
      <td>20.406457</td>
      <td>3.257167</td>
      <td>39.856860</td>
      <td>3.690000</td>
      <td>2.120000</td>
      <td>10.941380</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>We loaded the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file into a dataframe object and printed out the first five rows. The timestamp was read as string timestamps, but for the MVG API we need the timestamps to be in milliseconds since EPOCH. So we need to do some data wrangling in order to get it to the correct data type.</p>
<p>We can use the function <code class="docutils literal notranslate"><span class="pre">pandas.to_datetime()</span></code> to convert a column into datetime objects. Then we can convert the timestamps into integers, which will automatically get converted to nanoseconds since EPOCH. Then, when dividing by 1e6 we get the same time in milliseconds. We can see that the conversion was successful by printing the first five rows again.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_df</span><span class="p">[</span><span class="s2">&quot;timestamp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data_df</span><span class="p">[</span><span class="s2">&quot;timestamp&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int64&quot;</span><span class="p">)</span> <span class="o">//</span> <span class="mi">1000000</span>
<span class="n">data_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>T_out</th>
      <th>T_down</th>
      <th>T_kitchen</th>
      <th>WATT</th>
      <th>T_up</th>
      <th>T_brine_in</th>
      <th>T_brine_out</th>
      <th>T_cellar</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1517443200000</td>
      <td>1.976053</td>
      <td>38.367181</td>
      <td>20.512105</td>
      <td>2.780167</td>
      <td>40.028018</td>
      <td>3.690000</td>
      <td>2.068514</td>
      <td>10.965206</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1517449200000</td>
      <td>2.380000</td>
      <td>36.940000</td>
      <td>20.190000</td>
      <td>3.045333</td>
      <td>39.060000</td>
      <td>3.560000</td>
      <td>1.991486</td>
      <td>10.924431</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1517455500000</td>
      <td>2.211223</td>
      <td>37.715920</td>
      <td>20.190000</td>
      <td>3.060000</td>
      <td>39.840240</td>
      <td>3.598392</td>
      <td>1.961608</td>
      <td>10.982982</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1517461800000</td>
      <td>1.964956</td>
      <td>37.940000</td>
      <td>20.250000</td>
      <td>3.151579</td>
      <td>40.023789</td>
      <td>3.611330</td>
      <td>2.068670</td>
      <td>10.888049</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1517468100000</td>
      <td>0.349134</td>
      <td>37.551293</td>
      <td>20.406457</td>
      <td>3.257167</td>
      <td>39.856860</td>
      <td>3.690000</td>
      <td>2.120000</td>
      <td>10.941380</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>To upload the data to the API we need to convert the dataframe into a dictionary on the format {column: values}. Fortunately, dataframes have a method to do just that, called <code class="docutils literal notranslate"><span class="pre">to_dict()</span></code>. It has an argument for changing the orientation of the resulting dictionary. By using <code class="docutils literal notranslate"><span class="pre">to_dict(&quot;list&quot;)</span></code> we will get it on the correct format.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The dictionary must have a <code class="docutils literal notranslate"><span class="pre">&quot;timestamp&quot;</span></code> key and at least one more column, corresponding to a tracked variable. The <code class="docutils literal notranslate"><span class="pre">to_dict(&quot;list&quot;)</span></code> method will not include the index, so it is important to have the timestamp as a column in the data and not as an index.</p>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_dict</span> <span class="o">=</span> <span class="n">data_df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now that the data has been converted to the correct format we are ready to create the source and upload some measurements. When creating a tabular source, you must define the columns that the data will contain ahead of time. This is to prevent arbitrary data to be uploaded to the source. Besides the columns argument, creating a tabular source works the exact same way as creating a waveform source.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">create_tabular_source</span><span class="p">(</span>
    <span class="n">sid</span><span class="o">=</span><span class="s2">&quot;heatpump&quot;</span><span class="p">,</span>
    <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;Molnlycke&quot;</span><span class="p">},</span>
    <span class="n">columns</span><span class="o">=</span><span class="n">data_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can check that the source was created correctly by getting the source information.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_source</span><span class="p">(</span><span class="s2">&quot;heatpump&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;meta&#39;: {&#39;location&#39;: &#39;Molnlycke&#39;},
 &#39;properties&#39;: {&#39;columns&#39;: [&#39;T_out&#39;,
                            &#39;T_down&#39;,
                            &#39;T_kitchen&#39;,
                            &#39;WATT&#39;,
                            &#39;T_up&#39;,
                            &#39;T_brine_in&#39;,
                            &#39;T_brine_out&#39;,
                            &#39;T_cellar&#39;],
                &#39;data_class&#39;: &#39;tabular&#39;},
 &#39;source_id&#39;: &#39;heatpump&#39;}
</pre></div></div>
</div>
<p>Next, let’s upload the data we prepared to the source</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">create_tabular_measurement</span><span class="p">(</span>
    <span class="n">sid</span><span class="o">=</span><span class="s2">&quot;heatpump&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">data_dict</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now that we have a source with measurements we can request an analysis of the data from the server. Requesting analyses for tabular data works the same way as it does for waveform data. Although not all features will work for tabular data. The KPIDemo feature for example will only work with waveform data. Another thing to keep in mind is that when requesting population analyses, all sources to be analyzed simultaneously must have the same data class.</p>
<p>For now, we will simply run the mode identification algorithm.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">request_analysis</span><span class="p">(</span>
    <span class="n">sid</span><span class="o">=</span><span class="s2">&quot;heatpump&quot;</span><span class="p">,</span>
    <span class="n">feature</span><span class="o">=</span><span class="s2">&quot;ModeId&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">request_id</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;request_id&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>To make the results easier to work with we can load them into an analysis class. There exists one for each analysis feature. Once the analysis is completed and we have received the results, we can instatiate the analysis class with the results dictionary.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">wait_for_analyses</span><span class="p">([</span><span class="n">request_id</span><span class="p">])</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_analysis_results</span><span class="p">(</span><span class="n">request_id</span><span class="p">)</span>
<span class="n">analysis</span> <span class="o">=</span> <span class="n">ModeId</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The analysis class makes it very convenient to view the results. Let’s use the <code class="docutils literal notranslate"><span class="pre">ModeId.plot()</span></code> method to get an overview of the results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">analysis</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/content_examples_3-tabular_example_23_0.png" src="../../_images/content_examples_3-tabular_example_23_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;&#39;
</pre></div></div>
</div>
<p>The different modes help to identify between idle and have high-usage conditions along all seasons of the year.</p>
<p>When you are finished with the example you can go ahead and delete the source</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">delete_source</span><span class="p">(</span><span class="s2">&quot;heatpump&quot;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="5-analysis_classes.html" class="btn btn-neutral float-left" title="Analysis Classes - Unified Interface to Analysis Results" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="7-labeling.html" class="btn btn-neutral float-right" title="Labeling of Measurements and Label Propagation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Viking Analytics AB.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>