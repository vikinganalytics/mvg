<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brief Overview - How to use the MVG library &mdash; MultiViz Analytics Engine Library  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Check Version" href="0-check_version.html" />
    <link rel="prev" title="MVG: MultiViz Analytics Engine Client Library" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/VA_Symbol_DarkBlue.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Brief Overview - How to use the MVG library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Signing-up-for-the-service">Signing up for the service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Python-Pre-requisites">Python Pre-requisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Imports">Imports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Sources-and-Measurements">Sources and Measurements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Creating-a-Source">Creating a Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#List-sources">List sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Uploading-Measurements">Uploading Measurements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Analysis">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Visualization">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="0-check_version.html">Check Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-sources_and_measurements.html">Sources and Measurements Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-analysis_visual.html">Analysis and Results Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-analysis_classes.html">Analysis Classes - Unified Interface to Analysis Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-tabular_example.html">Working with Tabular Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-labeling.html">Labeling of Measurements and Label Propagation</a></li>
<li class="toctree-l1"><a class="reference internal" href="8-inference.html">Model Inference for New Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-error_handling.html">Error Handling Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/general.html">Using MVG features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/kpidemo.html">KPI Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/ModeId.html">Automatic Mode Identification (ModeID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/blacksheep.html">Population Based Anomaly Detection (BlackSheep)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/label_propagation.html">Label Propagation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/callback.html">Callback on Analysis Completion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/mvg.html">MutliViz Analytics Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities_reference/analysis_classes.html">MutliViz Analysis Classes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MultiViz Analytics Engine Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Brief Overview - How to use the MVG library</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/content/examples/1-brief_overview.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Brief-Overview---How-to-use-the-MVG-library">
<h1>Brief Overview - How to use the MVG library<a class="headerlink" href="#Brief-Overview---How-to-use-the-MVG-library" title="Permalink to this heading"></a></h1>
<section id="Introduction">
<h2>Introduction<a class="headerlink" href="#Introduction" title="Permalink to this heading"></a></h2>
<p>The MultiViz Analytics Engine (MVG) Library is a Python library that enables the use of Viking Analytics’s MVG Analytics Service. To access this service, Viking Analytics (VA) provides a REST API towards its analytics server. The simplification of access to this service is enabled by the VA-MVG Python package, which allows interaction with the service via regular python calls.</p>
<p>This interactive document shall show the whole flow working with the service from Python, from data upload to retrieval of analysis results for the analysis of vibration signals.</p>
<section id="Signing-up-for-the-service">
<h3>Signing up for the service<a class="headerlink" href="#Signing-up-for-the-service" title="Permalink to this heading"></a></h3>
<p>For commercial use of the service, you will need to acquire a token from Viking Analytics. For the example here, we use a built-in token for demo. Please contact us for a free trial and provide you with your token.</p>
</section>
<section id="Python-Pre-requisites">
<h3>Python Pre-requisites<a class="headerlink" href="#Python-Pre-requisites" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Make sure you have Python 3.6 or higher installed.</p></li>
</ol>
<p>In the following section we will walk through the code needed for the API interaction</p>
</section>
<section id="Imports">
<h3>Imports<a class="headerlink" href="#Imports" title="Permalink to this heading"></a></h3>
<p>First, we begin with the general imports of Python libraries that are needed as part of this project.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
<p>We proceed by installing the MVG library in our project.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!{</span>sys.executable<span class="o">}</span><span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>va-mvg
</pre></div>
</div>
</div>
<p>We follow by importing the MVG library.</p>
<p>The library documentation is available at <a class="reference external" href="https://vikinganalytics.github.io/mvg/index.html">https://vikinganalytics.github.io/mvg/index.html</a>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mvg</span> <span class="kn">import</span> <span class="n">MVG</span>
<span class="kn">from</span> <span class="nn">mvg.exceptions</span> <span class="kn">import</span> <span class="n">MVGAPIError</span>
</pre></div>
</div>
</div>
<p>We begin by instantiating a “session” object with the MVG library. A session object basically caches the endpoint and the token, to simplify the calls to the MVG library.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each TOKEN is used for Authorization AND Authentication. Thus, each unique token represents a unique user, each user has it own, unique database on the VA-MVG’ service.</p>
</div>
<p><strong>You need to insert your token received from Viking Analytics here:</strong> Just replace <code class="docutils literal notranslate"><span class="pre">&quot;os.environ['TEST_TOKEN']&quot;</span></code> by your token as a string.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;https://api.beta.multiviz.com&quot;</span>
<span class="c1"># Replace by your own Token</span>
<span class="n">VALID_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE2MTA0NTY3NTQsImV4cCI6MTg5MzQ1NjAwMCwiY2xpZW50X2lkIjoiYXBmZWwiLCJzaXRlX2lkIjoic3RydWRlbCJ9.m7LYLLbTW0voLzEOTYY8nf5dKl_XPp2c5YOyF_66M6mnPICdqBVzF2JcaN7hUlQEWBzxysma5tw6QfU1NspwPeDGT87_sZKAWWqnBmgjP7OYUNYvt1fg-o5lylsHSriradI6SBJv0vcHYU3y_Mey_OmV9Vu12OnQWRBam14qqT0&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span> <span class="o">=</span> <span class="n">MVG</span><span class="p">(</span><span class="n">ENDPOINT</span><span class="p">,</span> <span class="n">VALID_TOKEN</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We now check if the server is alive. The hello message contains the API version:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">say_hello</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;name&#39;: &#39;MultiViz Engine API&#39;,
 &#39;version&#39;: &#39;v0.3.2&#39;,
 &#39;swagger&#39;: &#39;http://api.beta.multiviz.com/docs&#39;}
</pre></div></div>
</div>
</section>
</section>
<section id="Sources-and-Measurements">
<h2>Sources and Measurements<a class="headerlink" href="#Sources-and-Measurements" title="Permalink to this heading"></a></h2>
<p>Before we begin, we will ensure there are no previously existing sources and if there are, we will delete them.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sources</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">list_sources</span><span class="p">()</span>

<span class="k">for</span> <span class="n">src</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting </span><span class="si">{</span><span class="n">src</span><span class="p">[</span><span class="s1">&#39;source_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">delete_source</span><span class="p">(</span><span class="n">src</span><span class="p">[</span><span class="s1">&#39;source_id&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Deleting iris
Deleting u0001
Deleting u0002
Deleting u0003
Deleting u0004
Deleting u0005
Deleting u0006
</pre></div></div>
</div>
<p>The example below revolves around a source with source_id “u0001”.</p>
<p>For convenience, this source and its measurements are available with the package distribution.</p>
<p>You can retrieve the data from our public charlie repo <a class="reference external" href="https://github.com/vikinganalytics/va-data-charlie.git">https://github.com/vikinganalytics/va-data-charlie.git</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="o">=</span><span class="m">1</span><span class="w"> </span>https://github.com/vikinganalytics/va-data-charlie.git
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Path to the source folder</span>
<span class="n">REF_DB_PATH</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;va-data-charlie&quot;</span> <span class="o">/</span> <span class="s2">&quot;charlieDb&quot;</span> <span class="o">/</span> <span class="s2">&quot;acc&quot;</span>
<span class="c1"># Definition of the source_id</span>
<span class="n">SOURCE_ID</span> <span class="o">=</span> <span class="s2">&quot;u0001&quot;</span>
</pre></div>
</div>
</div>
<section id="Creating-a-Source">
<h3>Creating a Source<a class="headerlink" href="#Creating-a-Source" title="Permalink to this heading"></a></h3>
<p>A source represents a vibration data source, typically a vibration sensor. Internally, in the analytics engine and data storage, all vibration data is stored under its source. In essence, a source is an identifier formed by</p>
<ul class="simple">
<li><p>the source ID</p></li>
<li><p>metadata with required fields</p></li>
<li><p>optional arbitrary customer specific ‘free form’ data belonging to the source</p></li>
<li><p>channel definition as a list</p></li>
</ul>
<p>The vibration service will only rely on the required fields. The free form data is a possibility for the client side to keep together source information, measurements and metadata which may be interesting for the analytics built-in features in the service. Examples of the free form data include location of sensor or the name of the asset which is mounted on. As we will see later, timestamps are internally represented as milliseconds since EPOCH (Jan 1st 1970), for that reason it is good practice
to include the timezone where the measurement originated in the metadata. In addition, we provide the channel definition that contains the waveform data. Each channel represents a waveform. Thus, if the sensor only have one channel, we need to provide only the name given to the raw waveform for that channel. If the sensor has two or more channels, like ina tri-axial sensor, one needs to provide the name of the channels corresponding to the different waveforms that will be available in the
measurements.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meta_information</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;assetId&#39;</span><span class="p">:</span> <span class="s1">&#39;assetJ&#39;</span><span class="p">,</span> <span class="s1">&#39;measPoint&#39;</span><span class="p">:</span> <span class="s1">&#39;mloc01&#39;</span><span class="p">,</span> <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="s1">&#39;cancun&#39;</span><span class="p">,</span> <span class="s1">&#39;timezone&#39;</span><span class="p">:</span> <span class="s1">&#39;Europe/Stockholm&#39;</span><span class="p">}</span>
<span class="n">session</span><span class="o">.</span><span class="n">create_source</span><span class="p">(</span><span class="n">SOURCE_ID</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="n">meta_information</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;acc&quot;</span><span class="p">])</span>
<span class="n">session</span><span class="o">.</span><span class="n">get_source</span><span class="p">(</span><span class="n">SOURCE_ID</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;source_id&#39;: &#39;u0001&#39;,
 &#39;meta&#39;: {&#39;assetId&#39;: &#39;assetJ&#39;,
  &#39;measPoint&#39;: &#39;mloc01&#39;,
  &#39;location&#39;: &#39;cancun&#39;,
  &#39;timezone&#39;: &#39;Europe/Stockholm&#39;},
 &#39;properties&#39;: {&#39;data_class&#39;: &#39;waveform&#39;, &#39;channels&#39;: [&#39;acc&#39;]}}
</pre></div></div>
</div>
</section>
<section id="List-sources">
<h3>List sources<a class="headerlink" href="#List-sources" title="Permalink to this heading"></a></h3>
<p>We can now check if our source actually has been created, by listing all the sources in the database. This function provides all the existing information about the source. Notice how in the source properties, one can see that the type of data to be uploaded for the source will be a waveform given that when one passes a channel definition to the source. The server interprets this as expecting for each measurement to be waveform data with the names of channels listed by the channel variable.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">list_sources</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[{&#39;source_id&#39;: &#39;u0001&#39;,
  &#39;meta&#39;: {&#39;assetId&#39;: &#39;assetJ&#39;,
   &#39;measPoint&#39;: &#39;mloc01&#39;,
   &#39;location&#39;: &#39;cancun&#39;,
   &#39;timezone&#39;: &#39;Europe/Stockholm&#39;},
  &#39;properties&#39;: {&#39;data_class&#39;: &#39;waveform&#39;, &#39;channels&#39;: [&#39;acc&#39;]}}]
</pre></div></div>
</div>
</section>
<section id="Uploading-Measurements">
<h3>Uploading Measurements<a class="headerlink" href="#Uploading-Measurements" title="Permalink to this heading"></a></h3>
<p>Now that we have created a source, we can upload vibration measurements related to the source. The information needed to create a measurement consists of</p>
<ul class="simple">
<li><p>sid: name of the source ID to associate the measurement with a source.</p></li>
<li><p>duration: float value that represent the duration, in seconds, of the measurement to estimate the sampling frequency.</p></li>
<li><p>timestamp: integer representing the milliseconds since EPOCH of when the measurement was taken.</p></li>
<li><p>data: list of floating point values representing the raw data of the vibration measurement.</p></li>
<li><p>meta: additional meta information for later use by the client but not to be processed by the analytics engine.</p></li>
</ul>
<p>In this example, all the measurement data is stored as csv and json files, where the timestamp is the name of each of these files. On the csv file, the header of the colum of data corresponds to the channel name.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># meas is a list of timestamps representing the measurements in our repo</span>
<span class="n">src_path</span> <span class="o">=</span> <span class="n">REF_DB_PATH</span> <span class="o">/</span> <span class="n">SOURCE_ID</span>
<span class="n">meas</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">stem</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="n">src_path</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.csv&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We iterate over all of elements in this list</span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">meas</span><span class="p">:</span>

    <span class="c1"># raw data per measurement</span>
    <span class="n">TS_MEAS_FILE</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.csv&quot;</span>  <span class="c1"># filename</span>
    <span class="n">TS_MEAS</span> <span class="o">=</span> <span class="n">REF_DB_PATH</span> <span class="o">/</span> <span class="n">SOURCE_ID</span> <span class="o">/</span> <span class="n">TS_MEAS_FILE</span>  <span class="c1"># path to file</span>
    <span class="n">ts_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">TS_MEAS</span><span class="p">)</span>  <span class="c1"># read csv into df</span>
    <span class="n">accs</span> <span class="o">=</span> <span class="n">ts_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>  <span class="c1"># convert to list</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Read </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ts_df</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>

    <span class="c1"># meta information file per measurement</span>
    <span class="n">TS_META_FILE</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.json&quot;</span>  <span class="c1"># filename</span>
    <span class="n">TS_META</span> <span class="o">=</span> <span class="n">REF_DB_PATH</span> <span class="o">/</span> <span class="n">SOURCE_ID</span> <span class="o">/</span> <span class="n">TS_META_FILE</span>  <span class="c1"># path</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">TS_META</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>  <span class="c1"># read json</span>
        <span class="n">meas_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>  <span class="c1"># into dict</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Read meta:</span><span class="si">{</span><span class="n">meas_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># get duration and other meta info</span>
    <span class="n">duration</span> <span class="o">=</span> <span class="n">meas_info</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span>
    <span class="n">meta_info</span> <span class="o">=</span> <span class="n">meas_info</span><span class="p">[</span><span class="s1">&#39;meta&#39;</span><span class="p">]</span>

    <span class="c1"># Upload measurements</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Uploading </span><span class="si">{</span><span class="n">TS_MEAS_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">create_measurement</span><span class="p">(</span><span class="n">sid</span><span class="o">=</span><span class="n">SOURCE_ID</span><span class="p">,</span>
                                   <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">,</span>
                                   <span class="n">timestamp</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">m</span><span class="p">),</span>
                                   <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;acc&quot;</span><span class="p">:</span> <span class="n">accs</span><span class="p">},</span>
                                   <span class="n">meta</span><span class="o">=</span><span class="n">meta_info</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">MVGAPIError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570186860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570273260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570359660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570446060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570532460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570618860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570705260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570791660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570878060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1570964460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571050860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571137260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571223660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571310060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571396460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571482860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571569260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571655660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571742060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571828460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1571914860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572001260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572087660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572177660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572264060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572350460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572436860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572523260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572609660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572696060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572782460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572868860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1572955260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573041660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573128060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573214460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573300860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573387260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573473660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573560060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573646460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573732860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573819260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573905660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1573992060.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1574078460.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1574164860.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1574251260.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1574337660.csv
Read 40000 samples
Read meta:{&#39;duration&#39;: 2.8672073400507907, &#39;meta&#39;: {}}
Uploading 1574424060.csv
</pre></div></div>
</div>
<p>Check if we actually created the measurements by reading them.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">measurements</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">list_measurements</span><span class="p">(</span><span class="n">SOURCE_ID</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Read </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">measurements</span><span class="p">)</span><span class="si">}</span><span class="s2"> stored measurements&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Read 50 stored measurements
</pre></div></div>
</div>
</section>
</section>
<section id="Analysis">
<h2>Analysis<a class="headerlink" href="#Analysis" title="Permalink to this heading"></a></h2>
<p>We begin by listing all the features available in the service.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">available_features</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">supported_features</span><span class="p">()</span>
<span class="n">available_features</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;RMS&#39;: &#39;1.0.0&#39;,
 &#39;ModeId&#39;: &#39;0.1.1&#39;,
 &#39;BlackSheep&#39;: &#39;1.0.0&#39;,
 &#39;KPIDemo&#39;: &#39;1.0.0&#39;,
 &#39;ApplyModel&#39;: &#39;0.1.0&#39;,
 &#39;LabelPropagation&#39;: &#39;0.1.0&#39;}
</pre></div></div>
</div>
<p>In this example, we will show how to request the KPIDemo and ModeId features to be applied to the previously defined SOURCE_ID. The BlackSheep feature is aimed to population analytics. You can read about how to use it in the <a class="reference internal" href="6-analysis_visual.html"><span class="doc">“Analysis and Results Visualization”</span></a> example.</p>
<p>We will begin with the <strong>KPIDemo</strong> feature, which provides KPIs, such as RMS, for each vibration measurement. We proceed to request the analysis to the MVG service.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">KPI_u0001</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">request_analysis</span><span class="p">(</span><span class="n">SOURCE_ID</span><span class="p">,</span> <span class="s1">&#39;KPIDemo&#39;</span><span class="p">)</span>
<span class="n">KPI_u0001</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;request_id&#39;: &#39;9fa506fd651f10b05401840edf9f33cb&#39;, &#39;request_status&#39;: &#39;queued&#39;}
</pre></div></div>
</div>
<p>The requested analysis will return a dictionary object with two elements. The first element is a <code class="docutils literal notranslate"><span class="pre">&quot;request_id&quot;</span></code> that can be used to retrieve the results after. The second element is <code class="docutils literal notranslate"><span class="pre">&quot;request_status&quot;</span></code> that provides the status right after placing the analysis request.</p>
<p>Before we are able to get the analysis results, we need to wait until those results are successfully completed.</p>
<p>We can query for the status of our requested analysis. The possible status are:</p>
<ul class="simple">
<li><p>Queued: The analysis has not started in the remote server and it is in the queue to begin.</p></li>
<li><p>Ongoing: The analysis is been processed at this time.</p></li>
<li><p>Failed: The analysis is complete and failed to produce a result.</p></li>
<li><p>Successful: The analysis is complete and it produced a successful result.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">REQUEST_ID_KPI_u0001</span> <span class="o">=</span> <span class="n">KPI_u0001</span><span class="p">[</span><span class="s1">&#39;request_id&#39;</span><span class="p">]</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_analysis_status</span><span class="p">(</span><span class="n">REQUEST_ID_KPI_u0001</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;KPI Analysis: </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
KPI Analysis: successful
</pre></div></div>
</div>
<p>The next feature is <strong>ModeId</strong>. The ‘ModeId’ feature displays all the operating modes over time of an individual asset. The similar procedure is repeated to request the analysis of the “ModeId” feature for our source “u0001”.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ModeId_u0001</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">request_analysis</span><span class="p">(</span><span class="n">SOURCE_ID</span><span class="p">,</span> <span class="s1">&#39;ModeId&#39;</span><span class="p">)</span>
<span class="n">ModeId_u0001</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;request_id&#39;: &#39;c2d48d6d59c317c39469d3eaade7de96&#39;, &#39;request_status&#39;: &#39;queued&#39;}
</pre></div></div>
</div>
<p>We also check the status for our second feature.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">REQUEST_ID_ModeId_u0001</span> <span class="o">=</span> <span class="n">ModeId_u0001</span><span class="p">[</span><span class="s1">&#39;request_id&#39;</span><span class="p">]</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_analysis_status</span><span class="p">(</span><span class="n">REQUEST_ID_ModeId_u0001</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ModeId Analysis: </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ModeId Analysis: successful
</pre></div></div>
</div>
<p>We can proceed to get the results by calling the corresponding requestIds for the feature of each source.</p>
<p>The output of the <code class="docutils literal notranslate"><span class="pre">&quot;get_analysis_results&quot;</span></code> function is a dictionary and we show the keys of one those dictionaries. The keys are the same for all features and contains seven elements. These elements are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;status&quot;</span></code> indicates if the analysis was successful.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;request_id&quot;</span></code> is the identifier of the requested analysis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;feature&quot;</span></code> is the name of the requested feature.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;results&quot;</span></code> includes the numeric results.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;inputs&quot;</span></code> includes the input information for the request analysis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;error_info&quot;</span></code> includes the error information in case the analysis fails and it is empty if the analysis is successful.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;debug_info&quot;</span></code> includes debuging (log) information related to the failed analysis.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">wait_for_analyses</span><span class="p">([</span><span class="n">REQUEST_ID_ModeId_u0001</span><span class="p">,</span> <span class="n">REQUEST_ID_KPI_u0001</span><span class="p">])</span>
<span class="n">kpi_results</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_analysis_results</span><span class="p">(</span><span class="n">request_id</span><span class="o">=</span><span class="n">REQUEST_ID_KPI_u0001</span><span class="p">)</span>
<span class="n">mode_results</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_analysis_results</span><span class="p">(</span><span class="n">request_id</span><span class="o">=</span><span class="n">REQUEST_ID_ModeId_u0001</span><span class="p">)</span>

<span class="n">kpi_results</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dict_keys([&#39;status&#39;, &#39;request_id&#39;, &#39;feature&#39;, &#39;results&#39;, &#39;inputs&#39;, &#39;error_info&#39;, &#39;debug_info&#39;])
</pre></div></div>
</div>
</section>
<section id="Visualization">
<h2>Visualization<a class="headerlink" href="#Visualization" title="Permalink to this heading"></a></h2>
<p>The MVG Library incorporates a module that facilitates the handling of the results and its visualization. Using this module, it becomes easier to convert the results into a Pandas dataframe for ease of manipulation. In addition, it enables to quickly evaluate the results by getting a summary of them or visualize them.</p>
<p>The name of this module is <code class="docutils literal notranslate"><span class="pre">&quot;analysis_classes&quot;</span></code> and we begin by calling it.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mvg</span> <span class="kn">import</span> <span class="n">analysis_classes</span>
</pre></div>
</div>
</div>
<p>The first step requires parsing the results available from the analysis. We begin by showing how to do this with the KPIDemo feature.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kpi_results_parsed</span> <span class="o">=</span> <span class="n">analysis_classes</span><span class="o">.</span><span class="n">parse_results</span><span class="p">(</span><span class="n">kpi_results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>From here, we can call these results into a Pandas dataframe.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_kpi</span> <span class="o">=</span> <span class="n">kpi_results_parsed</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span>
<span class="n">df_kpi</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamps</th>
      <th>rms_acc</th>
      <th>peak_acc</th>
      <th>peak2peak_acc</th>
      <th>variance_acc</th>
      <th>crest_factor_acc</th>
      <th>utilization_acc</th>
      <th>dc_component_acc</th>
      <th>datetime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1570186860</td>
      <td>0.647086</td>
      <td>2.686563</td>
      <td>5.313293</td>
      <td>0.418720</td>
      <td>4.151786</td>
      <td>1</td>
      <td>-0.140237</td>
      <td>2019-10-04 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1570273260</td>
      <td>0.647123</td>
      <td>2.691750</td>
      <td>5.367004</td>
      <td>0.418769</td>
      <td>4.159563</td>
      <td>1</td>
      <td>-0.140420</td>
      <td>2019-10-05 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1570359660</td>
      <td>0.646619</td>
      <td>2.715251</td>
      <td>5.414856</td>
      <td>0.418116</td>
      <td>4.199152</td>
      <td>1</td>
      <td>-0.140239</td>
      <td>2019-10-06 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1570446060</td>
      <td>0.646873</td>
      <td>2.685147</td>
      <td>5.351562</td>
      <td>0.418445</td>
      <td>4.150966</td>
      <td>1</td>
      <td>-0.140347</td>
      <td>2019-10-07 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1570532460</td>
      <td>0.646643</td>
      <td>2.726605</td>
      <td>5.395325</td>
      <td>0.418147</td>
      <td>4.216556</td>
      <td>1</td>
      <td>-0.140423</td>
      <td>2019-10-08 11:01:00+00:00</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>From the results, we can see that the KPIDemo feature provides some KPIs, e.g. rms and peak-to-peak. All this is available for each measurement.</p>
<p>We can request to display a summary of the results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kpi_results_parsed</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=== KPIDemo ===
request_id 9fa506fd651f10b05401840edf9f33cb
from 20191004-11:01.00 to 20191122-12:01.00

+-------+--------------+------------+------------+-----------------+----------------+--------------------+-------------------+--------------------+
|       |   timestamps |    rms_acc |   peak_acc |   peak2peak_acc |   variance_acc |   crest_factor_acc |   utilization_acc |   dc_component_acc |
|-------+--------------+------------+------------+-----------------+----------------+--------------------+-------------------+--------------------|
| count | 50           | 50         |  50        |       50        |     50         |          50        |                50 |         50         |
| mean  |  1.57231e+09 |  0.611691  |   2.81764  |        5.40059  |      0.377299  |           4.62976  |                 1 |         -0.120874  |
| std   |  1.26105e+06 |  0.0565414 |   0.278079 |        0.378225 |      0.0636172 |           0.333367 |                 0 |          0.0141936 |
| min   |  1.57019e+09 |  0.484564  |   2.26056  |        4.55438  |      0.234802  |           4.12339  |                 1 |         -0.140524  |
| 25%   |  1.57125e+09 |  0.627912  |   2.68338  |        5.31364  |      0.394273  |           4.20402  |                 1 |         -0.140196  |
| 50%   |  1.57231e+09 |  0.628307  |   2.84999  |        5.52634  |      0.39477   |           4.80641  |                 1 |         -0.112316  |
| 75%   |  1.57337e+09 |  0.64684   |   3.06661  |        5.69377  |      0.418402  |           4.89065  |                 1 |         -0.10966   |
| max   |  1.57442e+09 |  0.647694  |   3.13609  |        5.79639  |      0.419507  |           4.99256  |                 1 |         -0.109065  |
+-------+--------------+------------+------------+-----------------+----------------+--------------------+-------------------+--------------------+
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamps</th>
      <th>rms_acc</th>
      <th>peak_acc</th>
      <th>peak2peak_acc</th>
      <th>variance_acc</th>
      <th>crest_factor_acc</th>
      <th>utilization_acc</th>
      <th>dc_component_acc</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>5.000000e+01</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.0</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.572306e+09</td>
      <td>0.611691</td>
      <td>2.817641</td>
      <td>5.400591</td>
      <td>0.377299</td>
      <td>4.629763</td>
      <td>1.0</td>
      <td>-0.120874</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.261051e+06</td>
      <td>0.056541</td>
      <td>0.278079</td>
      <td>0.378225</td>
      <td>0.063617</td>
      <td>0.333367</td>
      <td>0.0</td>
      <td>0.014194</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.570187e+09</td>
      <td>0.484564</td>
      <td>2.260560</td>
      <td>4.554382</td>
      <td>0.234802</td>
      <td>4.123387</td>
      <td>1.0</td>
      <td>-0.140524</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.571245e+09</td>
      <td>0.627912</td>
      <td>2.683375</td>
      <td>5.313644</td>
      <td>0.394273</td>
      <td>4.204021</td>
      <td>1.0</td>
      <td>-0.140196</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.572307e+09</td>
      <td>0.628307</td>
      <td>2.849990</td>
      <td>5.526337</td>
      <td>0.394770</td>
      <td>4.806408</td>
      <td>1.0</td>
      <td>-0.112316</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.573366e+09</td>
      <td>0.646840</td>
      <td>3.066612</td>
      <td>5.693771</td>
      <td>0.418402</td>
      <td>4.890653</td>
      <td>1.0</td>
      <td>-0.109660</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.574424e+09</td>
      <td>0.647694</td>
      <td>3.136087</td>
      <td>5.796387</td>
      <td>0.419507</td>
      <td>4.992559</td>
      <td>1.0</td>
      <td>-0.109065</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Finally, we can generate a plot that displays these results. When plotting the results for the KPIDemo feature, one selects the KPI to be displayed by passing the parameter <code class="docutils literal notranslate"><span class="pre">&quot;kpi&quot;</span></code>. If this parameter is not included, the plot function will display the results of the first column in the summary dataframe after the timestamps, which is the RMS value.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kpi_results_parsed</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/content_examples_1-brief_overview_49_0.png" src="../../_images/content_examples_1-brief_overview_49_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;&#39;
</pre></div></div>
</div>
<p>All these functions are available for the ModeId feature as well. We proceed to repeat the same procedure for this other feature.</p>
<p>We begin by parsing the results. In this particular case, we need to define the unit of time to perform the epoch conversion to datetime. The default unit is milliseconds, but we use seconds here as the timestamps for this source is based on seconds. The timezone can also be defined, to increase the precision of these results.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mode_results_parsed</span> <span class="o">=</span> <span class="n">analysis_classes</span><span class="o">.</span><span class="n">parse_results</span><span class="p">(</span><span class="n">mode_results</span><span class="p">,</span> <span class="n">t_unit</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>First, we generate the pandas dataframe of ModeId results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_mode</span> <span class="o">=</span> <span class="n">mode_results_parsed</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span>
<span class="n">df_mode</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamps</th>
      <th>labels</th>
      <th>uncertain</th>
      <th>mode_probability</th>
      <th>datetime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1570186860</td>
      <td>0</td>
      <td>False</td>
      <td>0.912743</td>
      <td>2019-10-04 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1570273260</td>
      <td>0</td>
      <td>False</td>
      <td>0.972841</td>
      <td>2019-10-05 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1570359660</td>
      <td>0</td>
      <td>False</td>
      <td>0.929741</td>
      <td>2019-10-06 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1570446060</td>
      <td>0</td>
      <td>False</td>
      <td>0.999620</td>
      <td>2019-10-07 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1570532460</td>
      <td>0</td>
      <td>False</td>
      <td>0.978940</td>
      <td>2019-10-08 11:01:00+00:00</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>From the results, we can see that the ModeId feature provides a mode label for each timestamp, together with a boolean describing the certainty around this mode label and its probability.</p>
<p>We can also request to display a summary of the results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mode_results_parsed</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=== ModeId ===
request_id c2d48d6d59c317c39469d3eaade7de96
from 20191004-11:01.00 to 20191122-12:01.00

Labels
+----------+----------+-----------+--------------------+------------+
|   labels |   counts |   portion |   mode_probability |   datetime |
|----------+----------+-----------+--------------------+------------|
|        0 |       17 |        34 |                 17 |         17 |
|        1 |        8 |        16 |                  8 |          8 |
|        2 |       25 |        50 |                 25 |         25 |
+----------+----------+-----------+--------------------+------------+

Labels &amp; uncertain labels
+------------+-----------+--------------------+------------+----------+
|            |   portion |   mode_probability |   datetime |   counts |
|------------+-----------+--------------------+------------+----------|
| (0, False) |        34 |                 17 |         17 |       17 |
| (1, False) |        16 |                  8 |          8 |        8 |
| (2, False) |        50 |                 25 |         25 |       25 |
+------------+-----------+--------------------+------------+----------+

Emerging Modes
+----+---------+-----------------+-----------------+-------------------+---------------------------+
|    |   modes |   emerging_time |   max_prob_time |   max_probability | datetime                  |
|----+---------+-----------------+-----------------+-------------------+---------------------------|
|  0 |       0 |      1570186860 |      1570446060 |          0.99962  | 2019-10-04 11:01:00+00:00 |
|  1 |       1 |      1571655660 |      1571742060 |          0.997126 | 2019-10-21 11:01:00+00:00 |
|  2 |       2 |      1572350460 |      1573041660 |          0.999948 | 2019-10-29 12:01:00+00:00 |
+----+---------+-----------------+-----------------+-------------------+---------------------------+
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[        counts  portion  mode_probability  datetime
 labels
 0           17     34.0              17.0        17
 1            8     16.0               8.0         8
 2           25     50.0              25.0        25,
                   portion  mode_probability  datetime  counts
 labels uncertain
 0      False         34.0              17.0        17      17
 1      False         16.0               8.0         8       8
 2      False         50.0              25.0        25      25,
    modes  emerging_time  max_prob_time  max_probability  \
 0      0     1570186860     1570446060         0.999620
 1      1     1571655660     1571742060         0.997126
 2      2     1572350460     1573041660         0.999948

                    datetime
 0 2019-10-04 11:01:00+00:00
 1 2019-10-21 11:01:00+00:00
 2 2019-10-29 12:01:00+00:00  ]
</pre></div></div>
</div>
<p>The summary of the results describes the number of timestamps for each mode and how many of these timestamps are uncertain. Uncertain areas appear as a gray rectangle above the corresponding periods in the modes plot.</p>
<p>In addition, it provides information on the emerging modes. Emerging modes describes the time (timestamp) each one of the modes first appeared. This information can be useful to identify if a new mode is affecting or appearing in the asset.</p>
<p>Finally, we can generate a plot that displays display the different modes over time.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mode_results_parsed</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/content_examples_1-brief_overview_57_0.png" src="../../_images/content_examples_1-brief_overview_57_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;&#39;
</pre></div></div>
</div>
<p>Lastly, we can combine the information from the KPIDemo and ModeId features to display a boxplot of the “RMS” for each one of the operating modes.</p>
<p>First, we merge the “KPI” and “ModeId” dataframes.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_u0001</span> <span class="o">=</span>  <span class="n">pd</span><span class="o">.</span><span class="n">merge_asof</span><span class="p">(</span><span class="n">df_kpi</span><span class="p">,</span> <span class="n">df_mode</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;timestamps&quot;</span><span class="p">)</span>
<span class="n">df_u0001</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamps</th>
      <th>rms_acc</th>
      <th>peak_acc</th>
      <th>peak2peak_acc</th>
      <th>variance_acc</th>
      <th>crest_factor_acc</th>
      <th>utilization_acc</th>
      <th>dc_component_acc</th>
      <th>datetime_x</th>
      <th>labels</th>
      <th>uncertain</th>
      <th>mode_probability</th>
      <th>datetime_y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1570186860</td>
      <td>0.647086</td>
      <td>2.686563</td>
      <td>5.313293</td>
      <td>0.418720</td>
      <td>4.151786</td>
      <td>1</td>
      <td>-0.140237</td>
      <td>2019-10-04 11:01:00+00:00</td>
      <td>0</td>
      <td>False</td>
      <td>0.912743</td>
      <td>2019-10-04 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1570273260</td>
      <td>0.647123</td>
      <td>2.691750</td>
      <td>5.367004</td>
      <td>0.418769</td>
      <td>4.159563</td>
      <td>1</td>
      <td>-0.140420</td>
      <td>2019-10-05 11:01:00+00:00</td>
      <td>0</td>
      <td>False</td>
      <td>0.972841</td>
      <td>2019-10-05 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1570359660</td>
      <td>0.646619</td>
      <td>2.715251</td>
      <td>5.414856</td>
      <td>0.418116</td>
      <td>4.199152</td>
      <td>1</td>
      <td>-0.140239</td>
      <td>2019-10-06 11:01:00+00:00</td>
      <td>0</td>
      <td>False</td>
      <td>0.929741</td>
      <td>2019-10-06 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1570446060</td>
      <td>0.646873</td>
      <td>2.685147</td>
      <td>5.351562</td>
      <td>0.418445</td>
      <td>4.150966</td>
      <td>1</td>
      <td>-0.140347</td>
      <td>2019-10-07 11:01:00+00:00</td>
      <td>0</td>
      <td>False</td>
      <td>0.999620</td>
      <td>2019-10-07 11:01:00+00:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1570532460</td>
      <td>0.646643</td>
      <td>2.726605</td>
      <td>5.395325</td>
      <td>0.418147</td>
      <td>4.216556</td>
      <td>1</td>
      <td>-0.140423</td>
      <td>2019-10-08 11:01:00+00:00</td>
      <td>0</td>
      <td>False</td>
      <td>0.978940</td>
      <td>2019-10-08 11:01:00+00:00</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The MVG library provides additional visualization functions that can help towards this goal. Thus, we import the visualization module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mvg</span> <span class="kn">import</span> <span class="n">plotting</span>
</pre></div>
</div>
</div>
<p>Now, we can proceed to plot the boxplot for the requested kpi.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plotting</span><span class="o">.</span><span class="n">modes_boxplot</span><span class="p">(</span><span class="n">df_u0001</span><span class="p">,</span> <span class="s2">&quot;rms_acc&quot;</span><span class="p">,</span> <span class="n">SOURCE_ID</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Boxplot for u0001&#39;}, xlabel=&#39;Modes&#39;, ylabel=&#39;rms_acc&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/content_examples_1-brief_overview_63_1.png" src="../../_images/content_examples_1-brief_overview_63_1.png" />
</div>
</div>
<p>Here we conclude our brief overview to begin using the MultiViz Analytics Engine (MVG) Library.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../index.html" class="btn btn-neutral float-left" title="MVG: MultiViz Analytics Engine Client Library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="0-check_version.html" class="btn btn-neutral float-right" title="Check Version" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Viking Analytics AB.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>